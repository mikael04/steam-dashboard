---
title: "Analise Exploratória"
author: "Mikael Marin Coletto"
date: "2023-02-25"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_knit$set(root.dir = '/mnt/Netac-Dados/Projetos/R/steam-dashboard')
```


# Análise dos dados da Steam

## Objetivo

A ideia desta análise é ilustrar os conhecimentos adquiridos em R, passando pelos pontos de análise exploratória, construção de um dashboard para visualização de dados e por fim trabalhar com modelos de predição para alguns possíveis problemas da indústria.

## Primeiro problema

Somos um estúdio de jogos e queremos analisar qual gênero/categoria de jogo tem mais sucesso na steam, mais público e melhores avaliações, também queremos analisar qual faixa de preço é mais interessante para o lançamento desse novo jogo.

### Primeiro passo - Análise exploratória

Inicialmente iremos fazer uma análise exploratória de algumas variáveis que podem ser interessantes para determinar sucesso de um jogo, a faixa de preço, a quantidade de vendas e relacionar essas questões aos gêneros e categorias.

### A base de dados

A base de dados usada para esta análise se encontra no Kaggle, através deste link:

<https://www.kaggle.com/datasets/fronkongames/steam-games-dataset>

#### Skimr

Usarei o Skimr para a base de dados completa e verificarei quais dados podem ser melhor investigados.

```{r, mongoCon, echo = T, result = 'hide', message = F, warning = F, error = F}
## Dados de conexão com o banco da Steam no mongo
mongolite::mongo_options(log_level = 1)
mongo_db_user <- config::get("mongo_db_user", file = "config/config.yml")
mongo_db_password <- config::get("mongo_db_password", file = "config/config.yml")
mongo_db_url_extra <- config::get("mongo_db_url_extra", file = "config/config.yml")
mongo_database <- config::get("mongo_database", file = "config/config.yml")
mongo_collection <- config::get("mongo_collection_full", file = "config/config.yml")

url_srv <- paste0("mongodb+srv://", mongo_db_user, ":", mongo_db_password, mongo_db_url_extra)
mongo_db <- mongolite::mongo(collection = mongo_collection, db = mongo_database, url = url_srv, verbose = TRUE)

## Lendo e criando um dataframe com os dados do mongoDB
df_full <- as.data.frame(mongo_db$find())
```